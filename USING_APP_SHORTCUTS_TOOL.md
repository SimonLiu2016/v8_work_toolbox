# 应用快捷键获取工具使用指南

## 功能概述

应用快捷键获取工具使用 macOS 的 Accessibility API 来获取正在运行的应用程序的快捷键信息。工具会将获取到的快捷键信息导出为格式化的文本文件，包含三列信息：描述、快捷键、分类（应用名称），以 `|` 分隔。

**重要说明**：由于 macOS 系统安全机制的限制，许多现代应用（包括系统应用和第三方应用）都限制了外部访问其菜单结构，因此此工具可能无法获取大部分应用的快捷键信息。这是正常的安全保护行为，而非工具故障。

## 使用步骤

1. **启动目标应用**：在使用本工具前，请确保您想要获取快捷键的目标应用已经在 macOS 上运行。

2. **打开V8工作工具箱**：启动V8WorkToolbox应用。

3. **进入工具页面**：在主界面上找到并点击「应用快捷键获取」工具卡片。

4. **输入应用名称**：
   - 在「目标应用名称」输入框中输入您想获取快捷键的应用名称
   - 例如：`Finder`、`Safari`、`Visual Studio Code`、`Terminal` 等
   - 应用名称不区分大小写

5. **选择保存路径**：
   - 点击「选择」按钮，选择您希望保存快捷键文件的目录
   - 工具会自动创建以应用名称命名的 `.txt` 文件

6. **开始提取**：
   - 点击「开始提取」按钮
   - 等待工具完成扫描和导出过程
   - 结果会显示在界面下方的预览区域

## 系统权限设置

由于本工具需要使用 macOS 的辅助功能 API 来获取其他应用的菜单和快捷键信息，您需要授予相应权限：

1. 打开「系统设置」
2. 进入「隐私与安全性」
3. 选择「辅助功能」
4. 点击左下角的锁图标解锁（需要输入密码）
5. 找到 `V8WorkToolbox` 应用并勾选允许
6. 锁定设置（点击左下角的锁图标）

**注意**：如果您在使用工具时遇到权限错误，请务必检查上述设置。

## 输出文件格式

导出的 `.txt` 文件每行包含三个字段，以 `|` 分隔：
```
菜单项描述|快捷键组合|应用名称
```

例如：
```
新建窗口|Command+N|Finder
打开新标签页|Command+T|Safari
复制|Command+C|TextEdit
```

## 常见问题

1. **找不到快捷键**：
   - 确认目标应用正在运行
   - 确认应用名称拼写正确
   - 检查是否已授予辅助功能权限

2. **权限错误**：
   - 按照上面的权限设置步骤操作
   - 重启应用后重试

3. **部分应用无法获取**：
   - 某些安全级别较高的应用（如终端模拟器、密码管理器等）可能限制了快捷键信息的访问
   - 某些系统核心应用（如Finder）也有额外的安全保护，阻止外部访问
   - 这是应用内置的安全保护机制，旨在防止外部应用访问其内部结构
   - 属于正常现象，无法通过工具绕过

4. **iTerm2等应用的特殊处理**：
   - 对于iTerm2这类应用，可以尝试输入 "iTerm" 或 "iTerm2" 作为应用名称
   - 确保iTerm2应用处于前台激活状态
   - 某些安全级别较高的应用（如iTerm2）可能限制了对菜单和快捷键信息的访问
   - 这是正常的安全保护机制，无法通过工具获取其内部快捷键信息
   - 如需查看iTerm2快捷键，请在iTerm2中打开 Preferences → Keys → Key Bindings
   - 如果仍无法获取，请检查系统辅助功能权限设置

## 注意事项

- 本工具仅供个人使用
- 请确保只对您自己安装和使用的应用进行快捷键提取
- 遵守各应用的使用条款和版权规定